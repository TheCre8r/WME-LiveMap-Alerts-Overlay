// ==UserScript==
// @name                WME LiveMap Alerts Overlay (Version 2)
// @author		        The_Cre8r
// @description         Overlay alerts from the Waze LiveMap
// @include             https://www.waze.com/editor*
// @include             https://www.waze.com/*/editor*
// @include             https://beta.waze.com/*
// @exclude             https://www.waze.com/user/*
// @exclude             https://www.waze.com/*/user/*
// @version             2.5.3.0
// @grant               none
// @namespace           https://greasyfork.org/en/users/13670-the-cre8r
// ==/UserScript==
//
// I would like to thank davielde for the his hard work for this project, unfortunately with his absense there wasn't anyone
// who updated his script.  He said in his original code, "Many thanks to Timbones and Twister-UK, whose code (WMECH and URO+)
// provided a large foundation for this work."   I believe this is still true and their controbutions to this any many other
// projects has been invaluable.  Finally, thank you for downloading this and feel free to contact me for any issues.
//
// p.s. If davielde does return, all work of my may be surrendered.
//------------------------------------------------------------------------------------------------
function bootstrapLiveMapAlerts() {
    var bGreasemonkeyServiceDefined = false;

    try {
        bGreasemonkeyServiceDefined = (typeof Components.interfaces.gmIGreasemonkeyService === "object");
    } catch (err) { /* Ignore */ }

    if (typeof unsafeWindow === "undefined" || !bGreasemonkeyServiceDefined) {
        unsafeWindow = (function() {
            var dummyElem = document.createElement('p');
            dummyElem.setAttribute('onclick', 'return window;');
            return dummyElem.onclick();
        })();
    }

    setTimeout(initializeLiveMapAlerts, 999);

}


//--------------------------------------------------------------------------------------------------------
function checkLayerNum() {
    var lmaoLayer = null;
    for (i = 0; i < W.map.layers.length; i++) {
        if (W.map.layers[i].uniqueName == '__livemap_alerts') lmaoLayer = i;
    }
    //console.log('WME LMAO: layer number = ' + lmaoLayer);
    return lmaoLayer;
}


//--------------------------------------------------------------------------------------------------------
function getBounds() {
    var alertBounds = W.map.getExtent();

    alertBounds.transform(new OpenLayers.Projection("EPSG:900913"), new OpenLayers.Projection("EPSG:4326"));
    //console.log('WME LMAO: Current bounds = Left ' + alertBounds.left + ', Right ' + alertBounds.right + ', Bottom ' + alertBounds.bottom + ', Top ' + alertBounds.top);//verify transform

    return alertBounds;
}

//--------------------------------------------------------------------------------------------------------
function getRoutingServer() {
    var server = W.app.getAppRegionCode();
    console.log('WME LMAO: server = ' + server);

    switch (server) {
        case 'usa':
            var routingURL = '//www.waze.com/rtserver/web/TGeoRSS';
            break;
        case 'row':
            var routingURL = '//www.waze.com/row-rtserver/web/TGeoRSS';
            break;
        case 'il':
            var routingURL = '//www.waze.com/il-rtserver/web/TGeoRSS';
            break;
        default:
            var routingURL = '//www.waze.com/rtserver/web/TGeoRSS';
    };

    return routingURL;
}

//--------------------------------------------------------------------------------------------------------
function getFeatureYOffset() {

    var yOffset = -30;
    return yOffset;
}

//--------------------------------------------------------------------------------------------------------
function getLiveMapAlerts() {

    LiveMapAlerts_Layer.destroyFeatures();

    var alertBounds = getBounds();
    var url = getRoutingServer();
    var data = {
        types: "alerts",
        left: alertBounds.left,
        right: alertBounds.right,
        bottom: alertBounds.top,
        top: alertBounds.bottom
    };

    $.ajax({
        dataType: "json",
        url: url,
        data: data,
        success: function(json) {

            var alertData = json.alerts;
            try {
                for (var i = 0; i < alertData.length; i++) {
                    var lat = alertData[i].location.y;
                    var long = alertData[i].location.x;
                    var image = alertData[i].type;
                    var title = alertData[i].reportDescription;

                    console.log("WME LMAO: " + alertData[i].type, alertData[i].location.x, alertData[i].location.y);
                    addImage(lat, long, image, alertData[i]);
                }
            } catch (e) {
                console.log('WME LMAO: No alerts in view');
            }
        }
    });
}

//--------------------------------------------------------------------------------------------------------
function addImage(lat, long, type, detail) {

    var coords = OpenLayers.Layer.SphericalMercator.forwardMercator(long, lat);
    var point = new OpenLayers.Geometry.Point(coords.lon, coords.lat);
    var alertPx = W.map.getPixelFromLonLat(new OpenLayers.LonLat(coords.lon, coords.lat));
    var imgRoot = '/assets';

    switch (type) {
        case 'ROAD_CLOSED':
            var icon = 'data:image/png;base64,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';
            break;
        case 'ACCIDENT_MINOR':
            var icon = 'data:image/png;base64,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';
            break;
        case 'JAM_MODERATE_TRAFFIC':
            var icon = 'data:image/png;base64,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';
            break;
        case 'POLICE': //Chrome
            var icon = 'data:image/png;base64,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';
            break;
        case 'POLICE': //Firefox
            var icon = 'data:image/png;base64,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';
            break;
        case 'HAZARD': //Firefox
            var icon = 'data:image/png;base64,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';
            break;
        case 'WEATHERHAZARD': //Chrome returns this for *all* hazards...
            var icon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAmCAYAAAClI5npAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAIx0lEQVRYCZ1XC3BV1RXd97738ntJICE2KIEQhfwaFIJTBcEKKIqArViRyM/aoaUMUCiUWsZ+xFoLCjOlBYeh0hAdq0UBiRaQEXj8KWQUeMnLSwIhBMIv5Pf+n3tv1z733XxMAgln5rx97zn77L32Ovvsc5+kaRr1pmVlZd0vy/IIrBmMbtUkTZE06YYiKU6fy3eqtrbW1xt7Uk8AwOkAyST9Eo5eHnBfakbu0AwakJpCcbHRpCgqNTS76MKlOrI7qwIBf3AfbP7T6XTugrxjdLcFkJeXF68oyh8TEqyLpk+ZED1l/KOUOfg+BKiit7ct4V0irz9MR07bqfDT3XSmtOIsBhc7HA4bZLetWwCI+iHZJG97cfL4oQtnP0cpSVYiWSJJNkHK8IduNA5UAyhVgYDUJDp0qox+v26LerO+8R2wsRJkMOpOrUsAQ3OG/rCPNWHXqiWvJD7z+HAik0ySyUJkhnPJRJKEiLkjaoMJwTY7BwhSwqSFQ9TY5KGVa7eS7eS3nznLnQXQCX0XQScAmZmZw/skxtveW7UoMT8vgyQLO7YgYHMkcsM5m2oDoO+IzoSGvCAlRFooSCF/iF5bW0S7bSc/KC8rn/NdAO14JMrOzk6QzfKnby6ZlZj//UFwDqcAIJnYOTvWfZaccdC0OSsod/R0eh6S30mCc9GxTcyY2UxSVBRZYkz0lyUFNCwzY3Zubu6C2wLA8XpzxqSxD0x8LC8SOYyI/WbHnHQaOZwX6BdL/0wv5pfS/rdu0UsP22n+r98S4ySSHtGzLueLCduFAKJjLbR62UyyxsWsHjJkyMD2IFoZQMYPSoyPXbBw5kRQjmHsd5tzGEXmq2qY/vDXzTTvqWZ6YYyPkhNVmvaYn+ZNbBTjPK+fENZnRiAibAxOS6FZU8fGWyyW1zHa2loBhNXwwpcmjbIk97XqyAXlHDWMcQKj7/jCRp6GKpo9DrUmsh0EC7PG+8jTVCnmDV2xDkyIhI0ENHPKaEqwxs5NT09PMhC0AgDggqlPPCQQM2rhQGSWHr3L7aF1m7bRb6a5yWzW6Fq9TJ8Ux9D5iya8E634iVvMs14rCww8AkJCQMl942hMfmZ0jDXmhQ4AkHxZGQPuSbt/QD/9eHN0wjmOVCT6DVt20LB762l0Fk4SiLlQY6JPdsXQGQe84310dogeTLtJrGesaQUSyQlma/wPsiDkCR0AaLI2PCejPxIHw3AuiUpnUK/QhYtXaNvOr2n5s159R1BoUpKYGaL+KayHB/TlP/LQts+/FvqkMfhIAGyPQcB2dkYqclVDcdGb2AJZkwf275egW2FFtsaLI0DeXv8xzXjYS2l9YCgMK5hKSmA9yERIVYK6RGnJKs0Y5SHWN9bqUrcpwTb7QV4MFIvxIwBAWmOjUeWMhGMP4lmh/Ye/IWepnV4dGSQtKKPCAUAIDLBjtKR4DWN44I7xn43xk7PMLta1sQB7ETbiooVL1HW9iTdVUlvcHmR2K236ghAq2ZoN22lxfohiESH5EakfIIKQAYmWzfFRKgPhdwaHsVhsz+LH/bRm43YKhYOdbLo8Ht6C5g4A8HLOWXNDlE9SUUL5PAPMoRN2Mrmu09OpKmkeOPByhzPI2ktm2nMkiuwOiw7Kh3GfrjMpXSGT+zodOm7vAECDbWf1NfaNCb0JBrwu79EzlVe9zc0t8IssFwDC5Ky6TCORZPgOIM0N4y0m0lzoePY2muj8ZZmab2Kc59w8zvN4hk5+P1WsF6yyPbaLfqikCrko7esAgL9i/IHwzuKD57CXoE2AUOje7/WhskaZ+G7hK1Yw0Awn6EPiibb+PEiPpAGvGJNJbdLnFLDlaJDFegbAkZPCF5OPdhy0c/L82wCAQ9za/vHR3m9fLpicj8sPhsDNs+Py6OPP0+lV2yUal6ZRQgyr68knjqvgDyM8FOkun0IHrkhkTh1Ek8cN09lEQFooQLsPl+LrybcPHykVhtcO13FObs6+txc8+eRzT40gKSYGN5qFQqpGX+w/S9/Ya8jjDRjrupXWuGgakZdOU8Y/SBaUYE1BQgcDFEbyTf3VVqq+0jgWHyhHDAMdAOC6fDSlb+yxL9fPkeKTEomiosW9oJdHLMFB6FETbOAHHyj8YaL5/VS4/QS988GxPYh+UnsbERL1obKyshM3mjwfbv7sJI6VH+caZx9fN+KgiyPKVe9O3Tjz+CqKUH/zZgNt3lkSVFV1aXvn/NwBAA8EfIEVRbvPNlScrxP7xsmjnwrD8J0kA9SdUxhbhkDeLTpCTa7AWlBfzj7at04AqqurrwWD6tKVGw9QyIebDckjjiaXO8ECAIhK2YXkeXHkoMvUw/lXR8up+GilIxwOv9HesfHcCQBPYCuKHBdvbV//0fFeboUOwKC+rq6eVr1/NIg6MruysrLLDO4SAINwy+557xefu3yspFoHIepDOxYMNgzJX8OIXrAF1hSw97sNB6nB5XsdiVfCNrtq3QKotdc2oGJNX7HBFryIMs3nmDO6LR+4OkW6AMHOmXq+tHAXbD1Op53Xi50O57tdOTbGugXACkB+vLElsHzZ3w6Q3+VuywdRqhGxET1ke+f/tTnpw73lVV63dy4uHj6U3bbbAuBVAPF3R03jv/606WjnfIj8EdGdc9IFyFFxld7YcsIVlsI/rqmpaezWc2TijgBYz2wyz991rPrw6sITuHIj9SEMuvnmFLRDhvzEWzV/zQHF41MKKksrS+/knOd7BMBut3MmP1+0p6LiP3vLIiAiOcF7jvxoaXDRonU2qm/yL8Up+rInznsMgBWxFbdw4Ty9qrDkqu1/OBkor8wGd3+LmxavteF6blnNW9ZT56zX4S7oyUL+75gYH2XbuGRU4sjseygUUum3m07RV6frihxljrk9sdFBh5O0tx0gxj4ycpj3TOEr2ms/naBl5WTthFFTb+2wfq8ZMNDjv8QzyQlROxs9oUPhUHhqd5XO0O9W3g1qYw1APJGammo13u9G3jUD3UbUy4n/A508wbre6zXQAAAAAElFTkSuQmCC';
            break;
        case 'OTHER':
            var icon = 'data:image/png;base64,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';
            break;
        default:
            var icon = 'data:image/png;base64,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';
    };
    var attributes = {
        type: detail.type,
        subtype: detail.subtype,
        description: detail.reportDescription,
        street: detail.street,
        city: detail.city,
        near: detail.nearBy,
        reportby: detail.reportBy,
        pubMillis: detail.pubMillis,
        pixel: alertPx
    };

    var alertAgeInMinutes = getAlertAge(detail.pubMillis);
    if (type == 'ROAD_CLOSED') {
        var alertTransparency = 1;
    } else if (alertAgeInMinutes < 15) {
        var alertTransparency = 1;
    } else if (alertAgeInMinutes >= 15 && alertAgeInMinutes < 30) {
        var alertTransparency = .8;
    } else if (alertAgeInMinutes >= 30 && alertAgeInMinutes < 45) {
        var alertTransparency = .5;
    } else if (alertAgeInMinutes >= 45) {
        var alertTransparency = .25;
    } else {
        var alertTransparency = 1; //"unknown" age
    }

    var style = {
        externalGraphic: icon,
        graphicWidth: 30,
        graphicHeight: 32,
        graphicYOffset: getFeatureYOffset(),
        fillOpacity: alertTransparency,
        title: 'LiveMap',
        cursor: 'help'
    };

    var imageFeature = new OpenLayers.Feature.Vector(point, attributes, style);

    LiveMapAlerts_Layer.addFeatures([imageFeature]);
    //console.log('WME LMAO: Added alert at ' + lat + ',' + long);

}

//--------------------------------------------------------------------------------------------------------
function getAlertAge(msValue) {
    var d = new Date();
    try {
        var ageInMinutes = Math.floor((d.getTime() - msValue) / 60000);
    } //milliseconds to minutes
    catch (e) {
        var ageInMinutes = "unknown"
    }
    return ageInMinutes;
}

//--------------------------------------------------------------------------------------------------------
function getFriendlyType(rawType) {
    switch (rawType) {
        case 'JAM':
            var friendlyType = 'Jam';
            break;
        case 'POLICE': //Firefox
            var friendlyType = 'Police';
            break;
        case 'POLICEMAN': //Chrome
            var friendlyType = 'Police';
            break;
        case 'CHIT_CHAT':
            var friendlyType = 'Chit Chat';
            break;
        case 'TRAFFIC_JAM':
            var friendlyType = 'Traffic Jam';
            break;
        case 'HAZARD':
            var friendlyType = 'Hazard';
            break;
        case 'WEATHERHAZARD': //Chrome JSON has all hazards as weather hazard
            var friendlyType = 'Hazard';
            break;
        case 'ACCIDENT':
            var friendlyType = 'Accident';
            break;
        case 'CONSTRUCTION':
            var friendlyType = 'Construction';
            break;
        case 'ROAD_CLOSED':
            var friendlyType = 'Road Closed';
            break;
        case 'OTHER':
            var friendlyType = 'Chit Chat';
            break;
        default:
            var friendlyType = 'Unknown';
    };

    return friendlyType;
}

//--------------------------------------------------------------------------------------------------------
function getFriendlySubType(rawSubType) {
    switch (rawSubType) {
        case 'POLICE_VISIBLE':
            var friendlySubType = 'Visible Police Trap';
            break;
        case 'POLICE_HIDING':
            var friendlySubType = 'Hidden Police Trap';
            break;
        case 'ROAD_CLOSED_HAZARD':
            var friendlySubType = 'Hazard Closure';
            break;
        case 'ROAD_CLOSED_CONSTRUCTION':
            var friendlySubType = 'Construction Closure';
            break;
        case 'ROAD_CLOSED_EVENT':
            var friendlySubType = 'Closure';
            break;
        case 'ACCIDENT_MINOR':
            var friendlySubType = 'Minor Accident';
            break;
        case 'ACCIDENT_MAJOR':
            var friendlySubType = 'Major Accident';
            break;
        case 'JAM_MODERATE_TRAFFIC':
            var friendlySubType = 'Moderate Traffic';
            break;
        case 'JAM_HEAVY_TRAFFIC':
            var friendlySubType = 'Heavy Traffic';
            break;
        case 'JAM_STAND_STILL_TRAFFIC':
            var friendlySubType = 'Stand Still Traffic';
            break;
        case 'JAM_LIGHT_TRAFFIC':
            var friendlySubType = 'Light Traffic';
            break;
        case 'HAZARD_ON_ROAD':
            var friendlySubType = 'Hazard on Road';
            break;
        case 'HAZARD_ON_SHOULDER':
            var friendlySubType = 'Hazard on Shoulder';
            break;
        case 'HAZARD_WEATHER':
            var friendlySubType = 'Weather Hazard';
            break;
        case 'HAZARD_ON_ROAD_OBJECT':
            var friendlySubType = 'Object on Road';
            break;
        case 'HAZARD_ON_ROAD_POT_HOLE':
            var friendlySubType = 'Pothole';
            break;
        case 'HAZARD_ON_ROAD_ROAD_KILL':
            var friendlySubType = 'Road Kill';
            break;
        case 'HAZARD_ON_ROAD_CAR_STOPPED':
            var friendlySubType = 'Car Stopped on Road';
            break;
        case 'HAZARD_ON_SHOULDER_CAR_STOPPED':
            var friendlySubType = 'Car Stopped on Shoulder';
            break;
        case 'HAZARD_ON_SHOULDER_ANIMALS':
            var friendlySubType = 'Animals on Shoulder';
            break;
        case 'HAZARD_ON_SHOULDER_MISSING_SIGN':
            var friendlySubType = 'Missing Sign';
            break;
        case 'HAZARD_WEATHER_FOG':
            var friendlySubType = 'Fog';
            break;
        case 'HAZARD_WEATHER_HAIL':
            var friendlySubType = 'Hail';
            break;
        case 'HAZARD_WEATHER_HEAVY_RAIN':
            var friendlySubType = 'Heavy Rain';
            break;
        case 'HAZARD_WEATHER_HEAVY_SNOW':
            var friendlySubType = 'Heavy Snow';
            break;
        case 'HAZARD_WEATHER_FLOOD':
            var friendlySubType = 'Flood';
            break;
        case 'HAZARD_WEATHER_MONSOON':
            var friendlySubType = 'Monsoon';
            break;
        case 'HAZARD_WEATHER_TORNADO':
            var friendlySubType = 'Tornado';
            break;
        case 'HAZARD_WEATHER_HEAT_WAVE':
            var friendlySubType = 'Heat Wave';
            break;
        case 'HAZARD_WEATHER_HURRICANE':
            var friendlySubType = 'Hurricane';
            break;
        case 'HAZARD_WEATHER_FREEZING_RAIN':
            var friendlySubType = 'Freezing Rain';
            break;
        case 'HAZARD_ON_ROAD_LANE_CLOSED':
            var friendlySubType = 'Closed Lane';
            break;
        case 'HAZARD_ON_ROAD_OIL':
            var friendlySubType = 'Fresh Oil Spill';
            break;
        case 'HAZARD_ON_ROAD_ICE':
            var friendlySubType = 'Recently Formed Ice';
            break;
        case 'HAZARD_ON_ROAD_CONSTRUCTION':
            var friendlySubType = 'Construction';
            break;
        default:
            var friendlySubType = '';
    };

    return friendlySubType;
}

//--------------------------------------------------------------------------------------------------------
function initializeLiveMapAlerts() {
    console.log("WME LMAO: Initializing");

    var lmaoVisibility = true;

    LiveMapAlerts_Layer = new OpenLayers.Layer.Vector("LiveMap Alerts", {
        rendererOptions: {
            zIndexing: true
        },
        uniqueName: '__livemap_alerts'
    });
    I18n.translations.en.layers.name["__livemap_alerts"] = "LiveMap Alerts";

    // restore saved settings
    if (localStorage.WMELiveMapAlerts) {
        console.log("WME LMAO: loading options");
        var options = JSON.parse(localStorage.getItem("WMELiveMapAlerts"));

        lmaoVisibility = options[0];
    }

    // overload the WME exit function
    saveLMAOOptions = function() {
        if (localStorage) {
            console.log("WME LMAO: saving options");
            var options = [];

            lmaoVisibility = LiveMapAlerts_Layer.visibility;
            options[0] = lmaoVisibility;

            localStorage.setItem("WMELiveMapAlerts", JSON.stringify(options));
        }
    }
    window.addEventListener("beforeunload", saveLMAOOptions, false);

    function showAlertPopup(f) {

        //shift popup if UR or MP panel is visible
        try {
            var urPanel = document.getElementById('update-request-panel');
            var mpPanel = document.getElementById('problem-edit-panel');
            var conversationPanel = urPanel.children[5];
            if (urPanel.className == 'top-panel panel-shown collapsed' && conversationPanel.style.display == 'block') {
                divLMAO.style.left = '635px';
            } else if (urPanel.className == 'top-panel panel-shown' && conversationPanel.style.display == 'block') {
                divLMAO.style.top = '325px';
                divLMAO.style.left = '635px';
            } else if (urPanel.className == 'top-panel panel-shown' || mpPanel.className == 'top-panel panel-shown') {
                divLMAO.style.top = '325px';
            } else {
                divLMAO.style.top = '175px';
                divLMAO.style.left = '375px';
            }
        } catch (e) {
            console.log('WME LMAO: Problem getting detail for UR or MP panel');
        }

        var attributes = f.attributes;

        var alertType = ((attributes.type == "WEATHERHAZARD") ? "HAZARD" : attributes.type);
        var alertSubType = ((attributes.subtype == null) ? "" : attributes.subtype);
        var alertDescription = ((attributes.description == null) ? "" : attributes.description);
        var alertStreet = ((attributes.street == null) ? "" : attributes.street);
        var alertCity = ((attributes.city == null) ? "" : attributes.city);
        var alertNear = ((attributes.near == null) ? "" : attributes.near);
        var alertReportBy = ((attributes.reportby == null) ? "" : attributes.reportby);
        var alertPubMillis = attributes.pubMillis;
        var alertDateTime = new Date(parseInt(alertPubMillis));
        var alertAge = getAlertAge(attributes.pubMillis);

        if (alertAge < 60) {
            var displayAge = alertAge + " min";
        } else if (alertAge >= 60 && alertAge < 1440) {
            var displayAge = Math.floor(alertAge / 60) + " hr";
        } else if (alertAge >= 1440) {
            var displayAge = Math.floor(alertAge / 1440) + " day";
        } else {
            var displayAge = " unknown";
        }

        var reportDetail = "<b>LiveMap Alert Details</b>" +
            "<br>TYPE: " + getFriendlyType(alertType) +
            "<br>SUBTYPE: " + getFriendlySubType(alertSubType) +
            "<br>DESCRIPTION: " + alertDescription +
            "<br>STREET: " + alertStreet +
            "<br>CITY: " + alertCity +
            "<br>NEAR: " + alertNear +
            "<br>REPORT BY: " + alertReportBy +
            "<br>DATE: " + alertDateTime.toDateString() +
            "<br>TIME (user local): " + alertDateTime.toLocaleTimeString() +
            "<br>AGE: " + displayAge

        ;
        document.getElementById("divLMAO").innerHTML = reportDetail;
        divLMAO.style.visibility = 'visible';
    };

    function hideAlertPopup() {
        divLMAO.style.visibility = 'hidden';
        divLMAO.style.top = '175px';
        divLMAO.style.left = '375px';
    };


    LiveMapAlerts_Layer.setZIndex(9999);
    W.map.addLayer(LiveMapAlerts_Layer);
    W.map.addControl(new OpenLayers.Control.DrawFeature(LiveMapAlerts_Layer, OpenLayers.Handler.Path));
    LiveMapAlerts_Layer.setVisibility(lmaoVisibility);

    var divPopupCheck = document.getElementById('divLMAO');
    if (divPopupCheck == null) {
        divLMAO = document.createElement('div');
        divLMAO.id = "divLMAO";
        divLMAO.style.position = 'absolute';
        divLMAO.style.visibility = 'hidden';
        divLMAO.style.top = '175px';
        divLMAO.style.left = '375px';
        divLMAO.style.zIndex = 1000;
        divLMAO.style.backgroundColor = 'aliceblue';
        divLMAO.style.borderWidth = '3px';
        divLMAO.style.borderStyle = 'ridge';
        divLMAO.style.borderRadius = '10px';
        divLMAO.style.boxShadow = '5px 5px 10px Silver';
        divLMAO.style.padding = '4px';
        document.body.appendChild(divLMAO);
        console.log('WME LMAO: Creating popup divLMAO');
    }

    //clear existing LMAO features 
    LiveMapAlerts_Layer.destroyFeatures();

    var lmaoLayer = checkLayerNum();

    W.map.events.register("mousemove", W.map, function(e) {
        hideAlertPopup();
        var position = this.events.getMousePosition(e);
        //console.log('WME LMAO: coords xy = ' + position.x + ' ' + position.y);
        var lmaoLayer = checkLayerNum();
        if (W.map.layers[lmaoLayer].features.length > 0) {

            //var alertCount = W.map.layers[lmaoLayer].features.length;
            //console.log('WME LMAO: Current LiveMap alert count = ' + alertCount);

            var alertFeatures = W.map.layers[lmaoLayer];
            for (j = 0; j < W.map.layers[lmaoLayer].features.length; j++) {

                var lmaoLayerVisibility = LiveMapAlerts_Layer.getVisibility();
                var alertX = alertFeatures.features[j].attributes.pixel.x;
                var alertY = alertFeatures.features[j].attributes.pixel.y + getFeatureYOffset();
                if (lmaoLayerVisibility == true && position.x > alertX - 10 && position.x < alertX + 10 && position.y > alertY - 10 && position.y < alertY + 20) {
                    console.log('WME LMAO: hover over alert');
                    showAlertPopup(alertFeatures.features[j]);
                }
            }
        }
    });

    //refresh if user moves map
    W.map.events.register("moveend", W.map, getLiveMapAlerts);

    window.setTimeout(getLiveMapAlerts(), 500);

}

//--------------------------------------------------------------------------------------------------------------
bootstrapLiveMapAlerts();
